
 <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3 class="panel-title">
                       คุณอยู่ที่ >> บันทึกข้อมูลเบื้องต้น >> หมวดหมู่วัสดุ</h3>
                </div>
    <div class="row">
        <div class="col-md-3 col-sm-6 col-xs-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title">ประเภท</h3>
                </div>
                <div class="panel-body">
                	 <form onsubmit = "return false" id = "form1">
                        <table class="table table-striped">
                                    <tbody>
                                        <tr>
                                            <td width="40%">รหัส</td>
                                            <td width="60%px"><input class="form-control" id="mtr_code_of_type" name="mtr_code_of_type"></td>
                                        </tr>
                                         <tr>
                                            <td>ประเภทวัสดุ</td>
                                            <td><input class="form-control" id="mtr_code_of_materials" name="mtr_code_of_materials"></td>
                                        </tr>
                                        <tr>
                                            <td  colspan="2"><center><a href = "javascript:save1();" title = "Save"><img src="icon/save.png" width="35px"></a></center></td>
                                        </tr>
                                    </tbody>
                        </table>
                </div>
                <div class="panel-footer">
                    <div class="form-group input-group">
                    		
	                                 <input id="txt_search1" type="text" class="form-control" placeholder="ค้นหาทั้งหมด">
	                                 <span class="input-group-btn">
		                                 <button id="btn_search1" class="btn btn-default" type="button"><i class="fa fa-search"></i>
		                                 </button>
	                                </span>
	                            </tr>
                    </div><br>
                    <div id="show_data1">                            
						
					</div>

                             <!--modal bootstap-->
                    <div class="modal fade" id="edit1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header modal-header-warning">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
									<h2>แก้ไขค่าเสื่อมราคา</h2>
								</div>
								<div class="modal-body">
										<form onsubmit="return false" id="form1_1">
											  <center>
													<div style="width:80%!important;">
															   <table class="table table-striped">
																		<tbody>
																			<tr>
																				<td width="40%">ลำดับ</td>
																				<td width="60%px"><input class="form-control" id="depreciation_number1" name="depreciation_number1"></td>
																			</tr>
																			 <tr>
																				<td>ประเภท</td>
																				<td><input class="form-control" id="depreciation_type1" name="depreciation_type1"></td>
																			</tr>
																			<tr>
																				<td>อายุการใช้งาน</td>
																				<td><input class="form-control" id="depreciation_age1" name="depreciation_age1"></td>
																			</tr>
																			<tr>
																				<td>ค่าเสื่อม/ปี</td>
																				<td><input class="form-control" id="depreciation_year1" name="depreciation_year1"></td>
																			</tr>
																			<tr>
																				<td></td>
																				<td>
																						<div style="padding-bottom:10px!important;">
																							 <input data-dismiss="modal" type="submit" class="btn btn-info" value="ตกลง" id="">
																							 <a data-dismiss="modal" class="btn btn-danger" id="clear">ยกเลิก</a>
																						</div>
																						<input type="hidden" id="depreciation_id1" name="depreciation_id1">
																				</td>
																			</tr>
																		</tbody>
															   </table>
													  </div>
											</center>
										</form>
								   </div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->
                    <style>
						.modal-header-warning {
							color:#fff;
							padding:9px 15px;
							border-bottom:1px solid #eee;
							background-color: #FF6633;
							-webkit-border-top-left-radius: 5px;
							-webkit-border-top-right-radius: 5px;
							-moz-border-radius-topleft: 5px;
							-moz-border-radius-topright: 5px;
							 border-top-left-radius: 5px;
							 border-top-right-radius: 5px;
						}
                    </style>
				</div>
            </div>
        </div> 
        <div class="col-md-3 col-sm-6 col-xs-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title">ชื่อ/ชนิดวัสดุ</h3>
                </div>
                <div class="panel-body">
                	 <form onsubmit = "return false" id = "form2">
                	 <input type  = "text" id = "hide_id2" name = "hide_id2" style = "display:none"/>
	                      <table class="table table-striped">
	                                    <tbody>
	                                        <tr>
	                                            <td width="40%">รหัส</td>
	                                            <td width="60%px"><input class="form-control" id="model_number" name="model_number"></td>
	                                        </tr>
	                                         <tr>
	                                            <td>ชื่อ/ลักษณะ</td>
	                                            <td><input class="form-control" id="model_name" name="model_name"></td>
	                                        </tr>
	                                        <tr>
	                                            <td  colspan="2"><center><a href = "javascript:save2();" title = "Save"><img src="icon/save.png" width="35px"></a></center></td>
	                                        </tr>
	                                    </tbody>
	                        </table>
                    </form>
                </div>
                <div class="panel-footer">
                    <div class="form-group input-group">
                                 <input id="txt_search2" type="text" class="form-control" placeholder="ค้นหาทั้งหมด">
                                 <span class="input-group-btn">
                                 <button id="btn_search2" class="btn btn-default" type="button"><i class="fa fa-search"></i>
                                 </button>
                                </span>
                    </div><br>
                    <div id="show_data2"></div>

                             <!--modal bootstap-->
                    <div class="modal fade" id="edit1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header modal-header-warning">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
									<h2>แก้ไขค่าเสื่อมราคา</h2>
								</div>
								<div class="modal-body">
										<form onsubmit="return false" id="form1_1">
											  <center>
													<div style="width:80%!important;">
															   <table class="table table-striped">
																		<tbody>
																			<tr>
																				<td width="40%">ลำดับ</td>
																				<td width="60%px"><input class="form-control" id="depreciation_number1" name="depreciation_number1"></td>
																			</tr>
																			 <tr>
																				<td>ประเภท</td>
																				<td><input class="form-control" id="depreciation_type1" name="depreciation_type1"></td>
																			</tr>
																			<tr>
																				<td>อายุการใช้งาน</td>
																				<td><input class="form-control" id="depreciation_age1" name="depreciation_age1"></td>
																			</tr>
																			<tr>
																				<td>ค่าเสื่อม/ปี</td>
																				<td><input class="form-control" id="depreciation_year1" name="depreciation_year1"></td>
																			</tr>
																			<tr>
																				<td></td>
																				<td>
																						<div style="padding-bottom:10px!important;">
																							 <input data-dismiss="modal" type="submit" class="btn btn-info" value="ตกลง" id="">
																							 <a data-dismiss="modal" class="btn btn-danger" id="clear">ยกเลิก</a>
																						</div>
																						<input type="hidden" id="depreciation_id1" name="depreciation_id1">
																				</td>
																			</tr>
																		</tbody>
															   </table>
													  </div>
											</center>
										</form>
								   </div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->
                    <style>
						.modal-header-warning {
							color:#fff;
							padding:9px 15px;
							border-bottom:1px solid #eee;
							background-color: #FF6633;
							-webkit-border-top-left-radius: 5px;
							-webkit-border-top-right-radius: 5px;
							-moz-border-radius-topleft: 5px;
							-moz-border-radius-topright: 5px;
							 border-top-left-radius: 5px;
							 border-top-right-radius: 5px;
						}
                    </style>
				</div>
            </div>  
        </div>
        <div class="col-md-3 col-sm-6 col-xs-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    <h3 class="panel-title">ขนาด/ลักษณะ</h3>
                </div>
                <div class="panel-body">
                     <table class="table table-striped">
								<form onsubmit = "return false" id = "form3">
                				 <input type  = "text" id = "hide_id3" name = "hide_id3" style = "display:none" ><!--style = "display:none"/-->
									<tbody>
                                        <tr>
                                            <td width="40%">รหัส</td>
                                            <td width="60%px"><input type="text" class="form-control" id="detail_number" name="detail_number"></td>
                                        </tr>
                                         <tr>
                                            <td>ขนาด/ลักษณะ</td>
                                            <td><input type="text" class="form-control" id="detail_name" name="detail_name"></td>
                                        </tr>
                                        <tr>
                                            <td  colspan="2"><center><a href = "javascript:save3();" title = "Save" id="form_category_mtr_submit_button"><img src="icon/save.png" width="35px"></a></center></td>
                                        </tr>
                                    </tbody>
								</form>
                        </table>
                </div>
                <div class="panel-footer">
                    <div class="form-group input-group">
                                 <input id="txt_search3" type="text" class="form-control" placeholder="ค้นหาทั้งหมด">
                                 <span class="input-group-btn">
                                 <button id="btn_search3" class="btn btn-default" type="button"><i class="fa fa-search"></i>
                                 </button>
                                </span>
                    </div><br>
                    <div id="show_data3">                            
					</div>

                             <!--modal bootstap-->
                    <div class="modal fade" id="edit1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header modal-header-warning">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
									<h2>แก้ไขค่าเสื่อมราคา</h2>
								</div>
								<div class="modal-body">
										<form onsubmit="return false" id="form1_1">
											  <center>
													<div style="width:80%!important;">
															   <table class="table table-striped">
																		<tbody>
																			<tr>
																				<td width="40%">ลำดับ</td>
																				<td width="60%px"><input class="form-control" id="depreciation_number1" name="depreciation_number1"></td>
																			</tr>
																			 <tr>
																				<td>ประเภท</td>
																				<td><input class="form-control" id="depreciation_type1" name="depreciation_type1"></td>
																			</tr>
																			<tr>
																				<td>อายุการใช้งาน</td>
																				<td><input class="form-control" id="depreciation_age1" name="depreciation_age1"></td>
																			</tr>
																			<tr>
																				<td>ค่าเสื่อม/ปี</td>
																				<td><input class="form-control" id="depreciation_year1" name="depreciation_year1"></td>
																			</tr>
																			<tr>
																				<td></td>
																				<td>
																						<div style="padding-bottom:10px!important;">
																							 <input data-dismiss="modal" type="submit" class="btn btn-info" value="ตกลง" id="">
																							 <a data-dismiss="modal" class="btn btn-danger" id="clear">ยกเลิก</a>
																						</div>
																						<input type="hidden" id="depreciation_id1" name="depreciation_id1">
																				</td>
																			</tr>
																		</tbody>
															   </table>
													  </div>
											</center>
										</form>
								   </div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
                    </div><!-- /.modal -->
                    <style>
						.modal-header-warning {
							color:#fff;
							padding:9px 15px;
							border-bottom:1px solid #eee;
							background-color: #FF6633;
							-webkit-border-top-left-radius: 5px;
							-webkit-border-top-right-radius: 5px;
							-moz-border-radius-topleft: 5px;
							-moz-border-radius-topright: 5px;
							 border-top-left-radius: 5px;
							 border-top-right-radius: 5px;
						}
                    </style>
				</div>
            </div>  
        </div>
    </div>
</div>
<style>
    #panel{
        margin-left: 10px!important;
        margin-right: 10px!important;
        margin-top: 20px!important;
        margin-bottom: 10px!important;
    }
    #panel1{
        width: 350px!important;
    }
    .header1{
        background-color: #0099FF!important;
    }
    .header2{
        background-color: #fcf8e3!important;
    }
    .header3{
        background-color: #fcf8e3!important;
    }
    .header4{
        background-color: #fcf8e3!important;
    }
    .panel-warning>.panel-heading {
    color: #FFFFFF!important;
    background-color: #0099FF!important;
    border-color: #faebcc!important;
    }
</style>
 <style type="text/css">
   .panel-heading span
    {
        margin-top: -26px;
        font-size: 15px;
        margin-right: -12px;
    }

    .clickable {
        background: rgba(0, 0, 0, 0.15);
        display: inline-block;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
    }
    .row{
        margin-top:30px!important;
        margin-left: 10px!important;
        margin-right:10px!important;
        margin-bottom: 30px!important;
    }
 </style>
 <script type="text/javascript">
 	$(document).ready(function(){
 		$("#model_number").attr("disabled", "disabled"); 
        $("#model_name").attr("disabled", "disabled"); 
        $("#detail_number").attr("disabled", "disabled"); 
       	$("#detail_name").attr("disabled", "disabled"); 
 	});
 </script>>
           <script>
		          function save1( event ){ 
		                var mtr_code_of_type 		= $("#mtr_code_of_type").val();
		                var mtr_code_of_materials   = $("#mtr_code_of_materials").val();


		                if(mtr_code_of_type == "")
		                {
		                    alert("รหัสประเภทต้องไม่ใช่ค่าว่าง");
		                    $("#mtr_code_of_type").focus();
		                    event.preventDefault();    
		                }
		                if(mtr_code_of_materials == "")
		                {    
		                    alert("ประเภทวัสดุต้องไม่ใช่ค่าว่าง");
		                     $("#mtr_code_of_materials").focus();
		                    event.preventDefault();  
		                }

		                if(mtr_code_of_type != "" && mtr_code_of_materials != ""){
		                   $("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
		                   $.post( "index.php/mtr/data_mtr_distribution/insert_mtr_distribution",$("#form1").serialize(),function( data ) {     
		                        		if(data == "200")
		                                {     
		                                      alert("รหัสซ้ำ");
		                                      $("#mtr_code_of_type").val('');
		                                      $("#mtr_code_of_type").focus();
		                                       $("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                                     $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
						                            $("#show_data1" ).html( data );
						       					 }); 
		                                }
		                                else
		                                {
		                                    $("#mtr_code_of_type").val('');
		                                    $("#mtr_code_of_materials").val('');       
		                                    $("#show_data1" ).html( data );
		                                    alert("บันทึกเรียบร้อยแล้ว");
		                                }      
				                   });
		                }
		           }
                     $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
                            $("#show_data1" ).html( data );
       					 }); 
			        $(".delete1").live('click',function(){
			            var id = $(this).attr('title');
			            $.confirm({
			                text: "<p>คุณต้องการลบ ประเภทวัสดุนี้ จริงหรือไม่</p>\n\
                                              กรุณาอ่านก่อนลบ<p>\n\- รายการหมวดหมู่วัสดุอื่นๆ ที่อยู่ในหมวดหมู่นี้ทั้งหมดจะถูก 'ลบ'<p>\n\
                                                - ทะเบียนวัสดุที่อยู่ในรายการหมวดหมู่วัสดุนี้จะถูก 'ลบ' ทั้งหมด",
			                confirm: function(button) {
			                	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                     $.post( "index.php/mtr/data_mtr_distribution/delete_item",{'id':id},function( data ) {  
			                           //alert(data);      
			                               
			                            if(data == '200')
			                            {    
			                                 alert('ลบข้อมูลเรียบร้อยแล้ว');
			                                 $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
					                            $("#show_data1" ).html( data );
					       					 });
					       					   $.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
												       $("#show_data2" ).html( data );
											  }); 
					       					   $.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
													       $("#show_data3" ).html( data );
												}); 
			                            }
			                            
			                      });
                                              //------------------
                                              $.ajax({
                                                type:"POST",
                                                url:"<?php echo base_url(); ?>index.php/mtr/data_mtr_distribution/remove_type_category_of_materials",
                                                data:{ mtr_type_id:id},
                                                dataType: 'html',
                                                success:function(data){
                                                    
                                                }
                                            }); 
                                            //-----------------------
			                },
			                cancel: function(button) {
			                }
			            });
			        });
        //getdata edit
        $(".edit1").live('click',function(){
            var id = $(this).attr('title');
             $.post( "index.php/mtr/data_mtr_distribution/edit_unit",{'id':id}, function( data ) {
                                         var id = data['0'].group_type_id ;
                                         var group_type_numbers = data['0'].group_type_numbers ;
                                         var group_type_names   = data['0'].group_type_names ;
                                         $("#group_type_numbers1").val(group_type_numbers);
                                         $("#group_type_names1").val(group_type_names);
                                         $("#group_type_hide1").val(id);
                                         
              }, "json"); 
            });
              $("#data1 tbody tr").live('click',function() {
              			
                        var selected = $(this).hasClass("highlighted");
                        $("#data1 tbody tr").removeClass("highlighted");
                        if(!selected){ 
                                $(this).addClass("highlighted");
       						     var id =  $(this).attr('title');
       						    $("#hide_id2").val(id);
       						    $("#model_number").attr("disabled", false); 
       							$("#model_name").attr("disabled", false); 
       							$("#model_number").focus();
       							$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
       							$.post( "index.php/mtr/data_mtr_model/search",{'txt_search':id},function( data ) {            
									       $("#show_data2" ).html( data );
								}); 
                            }
                            else
                            {   
                            	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );

                            	$.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
						                    $("#show_data1" ).html( data );
						       	}); 
                            	$.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
									       $("#show_data2" ).html( data );
								}); 
                            	$.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
								       $("#show_data3" ).html( data );
								});
                            	$("#hide_id2").val('');
                            	$("#model_number").attr("disabled", "disabled"); 
       							$("#model_name").attr("disabled", "disabled"); 
       							$("#detail_number").attr("disabled", "disabled"); 
       							$("#detail_name").attr("disabled", "disabled"); 


                            }
                    });
					$("#btn_edit1").live('click',function(){

			                        $.post( "index.php/mtr/data_mtr_distribution/edit_mtr_distribution",$("#form1_1").serialize(),function( data ) {     
			                           // alert(data);
			             				if(data == '200')
                                        {    
                                              alert('แก้ไขข้อมูลเรียบร้อย');
                                              $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
					                            $("#show_data1" ).html( data );
					       					  }); 
                                        }
                                        else
                                        {
                                            alert('บันทึกไม่ได้เนื่องจากรหัสซ้ำ');
                                        }
			                         });
			         });
					$("#btn_search1").click(function(){
                        var txt_search1 = $("#txt_search1").val();
                        $("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                         $.post( "index.php/mtr/data_mtr_distribution/search_mtr_distribution",{'txt_search1':txt_search1},function( data ) {               
                               // alert(data);
                                 $("#show_data1" ).html( data );
                                 $("#txt_search1").val('');
                         });
                    });

</script>
<!--SAVE2-->
             <script>          
				$.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
					       $("#show_data2" ).html( data );
				}); 
		          function save2( event ){ 
		                var model_number  = $("#model_number").val();
		                var model_name    = $("#model_name").val();
		                if(model_number == "")
		                {
		                    alert("รหัสต้องไม่ใช่ค่าว่าง");
		                    $("#model_number").focus();
		                    event.preventDefault();    
		                }
		                if(model_name == "")
		                {    
		                    alert("ชื่อ/ลักษณะวัสดุต้องไม่ใช่ค่าว่าง");
		                     $("#model_name").focus();
		                    event.preventDefault();  
		                }

		                if(model_number != "" && model_name != ""){
		                	 $("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
		                   $.post( "index.php/mtr/data_mtr_model/insert_mtr_model",$("#form2").serialize(),function( data ) {     
		                        		if(data == "200")
		                                {     
		                                      alert("รหัสซ้ำ");
		                                      $("#model_number").val('');
		                                      $("#model_number").focus();
		                                      $("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                                  $.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
													       $("#show_data2" ).html( data );
											  }); 
		                                }
		                                else
		                                {
		                                    $("#model_number").val('');
		                                    $("#model_name").val('');       
		                                    $("#show_data2" ).html( data );
		                                    alert("บันทึกเรียบร้อยแล้ว");
		                                }      
				                   });
		                }
		           }
                     $(".delete2").live('click',function(){
			            var id = $(this).attr('title');
			            $.confirm({
                                        text: "<p>คุณต้องการลบ ชื่อ/ลักษณะวัสดุนี้ จริงหรือไม่</p>\n\
                                              กรุณาอ่านก่อนลบ<p>\n\- รายการหมวดหมู่วัสดุอื่นๆ ที่อยู่ในหมวดหมู่นี้ทั้งหมดจะถูก 'ลบ'<p>\n\
                                                - ทะเบียนวัสดุที่อยู่ในรายการหมวดหมู่วัสดุนี้จะถูก 'ลบ' ทั้งหมด",
			                confirm: function(button) {
			                	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                     $.post( "index.php/mtr/data_mtr_model/delete_item",{'id':id},function( data ) {         
			                            if(data == '200')
			                            {    
			                                 alert('ลบข้อมูลเรียบร้อยแล้ว');
			                                  $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
					                            $("#show_data1" ).html( data );
					       					 });
					       					   $.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
												       $("#show_data2" ).html( data );
											  }); 
					       					   $.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
													       $("#show_data3" ).html( data );
												}); 
			                            }
			                            
			                      });
                                              //-------------------------------------------------
                                              $.ajax({
                                                    type:"POST",
                                                    url:"<?php echo base_url(); ?>index.php/mtr/data_mtr_distribution/remove_model_category_of_materials",
                                                    data:{ mtr_model_id:id},
                                                    dataType: 'html',
                                                    success:function(data){

                                                    }
                                                }); 
                                              //-------------------------------------------------
			                },
			                cancel: function(button) {
			                }
			            });
			        });
                      $("#data2 tbody tr").live('click',function() {
              			
                        var selected = $(this).hasClass("highlighted");
                        $("#data2 tbody tr").removeClass("highlighted");
                        if(!selected){ 
                                $(this).addClass("highlighted");
       						     var id =  $(this).attr('title');
       						    $("#hide_id3").val(id);
       						    $("#detail_number").attr("disabled", false); 
       							$("#detail_name").attr("disabled", false); 
       							$("#detail_number").focus();
       							$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
       							$.post( "index.php/mtr/data_mtr_detail/search",{'txt_search':id},function( data ) {            
									       $("#show_data3" ).html( data );
								}); 

                            }
                            else
                            {   
                            	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
								$.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
						                    $("#show_data1" ).html( data );
						       	}); 
                            	$.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
									       $("#show_data2" ).html( data );
								}); 
                            	$.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
								       $("#show_data3" ).html( data );
								});
                            	$("#hide_id3").val('');
       							$("#model_number").attr("disabled", "disabled"); 
       							$("#model_name").attr("disabled", "disabled"); 
       							$("#detail_number").attr("disabled", "disabled"); 
       							$("#detail_name").attr("disabled", "disabled"); 
                            }
                    });
				         $(".edit2").live('click',function(){
				            var id = $(this).attr('title');
				             $.post( "index.php/mtr/data_mtr_model/edit_unit",{'id':id}, function( data ) {
				                                         var id = data['0'].type_id ;
				                                         var type_numbers       = data['0'].type_numbers ;
				                                         var type_names         = data['0'].type_names ;
				                                         $("#model_number2").val(type_numbers);
				                                         $("#model_name2").val(type_names);
				                                         $("#model_hide2").val(id);
				                                         
				              }, "json"); 
				            });
				   		  $("#btn_edit2").live('click',function(){
			                        $.post( "index.php/mtr/data_mtr_model/edit_mtr_model",$("#form2_2").serialize(),function( data ) {    
			             				if(data == '200')
                                        {    
                                              alert('แก้ไขข้อมูลเรียบร้อย');
                                              $.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
												       $("#show_data2" ).html( data );
											});  
                                        }
                                        else
                                        {
                                            alert('บันทึกไม่ได้เนื่องจากรหัสซ้ำ');
                                        }
			                         });
			         		});
				   		  $("#btn_search2").click(function(){
		                        var txt_search2 = $("#txt_search2").val();
		                        $("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
		                         $.post( "index.php/mtr/data_mtr_model/search_mtr_model",{'txt_search2':txt_search2},function( data ) {               
		                                 $("#show_data2" ).html( data );
		                                 $("#txt_search2").val('');

		                         });
		                    });

</script>
<!--SAVE3-->

<script>
 				$.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
					       $("#show_data3" ).html( data );
				}); 
				  function save3( event ){ 
		                var detail_number  = $("#detail_number").val();
		                var detail_name    = $("#detail_name").val();
		                if(detail_number == "")
		                {
		                    alert("รหัสต้องไม่ใช่ค่าว่าง");
		                    $("#detail_number").focus();
		                    event.preventDefault();    
		                }
		                if(detail_name == "")
		                {    
		                    alert("ขนาด/ลักษณะวัสดุต้องไม่ใช่ค่าว่าง");
		                    $("#detail_name").focus();
		                    event.preventDefault();  
		                }

		                if(detail_number != "" && detail_name != ""){
		                	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
		                   $.post( "index.php/mtr/data_mtr_detail/insert_mtr_detail",$("#form3").serialize(),function( data ) {     
		                        		if(data == "200")
		                                {     
		                                      alert("รหัสซ้ำ");
		                                      $("#detail_number").val('');
		                                      $("#detail_number").focus();
		                                      $("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                                  $.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
													       $("#show_data3" ).html( data );
												}); 
		                                }
		                                else
		                                {
		                                    $("#detail_number").val('');
		                                    $("#detail_name").val('');       
		                                    $("#show_data3" ).html( data );
		                                    alert("บันทึกเรียบร้อยแล้ว");
		                                }      
				                
				            });
		                }
		           }
		           $(".delete3").live('click',function(){
			            var id = $(this).attr('title');
			           // alert(id);
			            $.confirm({
                                        text: "<p>คุณต้องการลบ ขนาด/ลักษณะวัสดุนี้ จริงหรือไม่</p>\n\
                                              กรุณาอ่านก่อนลบ<p>\n\- รายการหมวดหมู่วัสดุอื่นๆ ที่อยู่ในหมวดหมู่นี้ทั้งหมดจะถูก 'ลบ'<p>\n\
                                                - ทะเบียนวัสดุที่อยู่ในรายการหมวดหมู่วัสดุนี้จะถูก 'ลบ' ทั้งหมด",
			                confirm: function(button) {
			                	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
			                     $.post( "index.php/mtr/data_mtr_detail/delete_item",{'id':id},function( data ) {         
			                            if(data == '200')
			                            {    
			                                 alert('ลบข้อมูลเรียบร้อยแล้ว');
			                                   $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
					                            $("#show_data1" ).html( data );
					       					 });
					       					   $.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
												       $("#show_data2" ).html( data );
											  }); 
					       					   $.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
													       $("#show_data3" ).html( data );
												}); 
			                            }
			                            
			                      });
                                              //-------------------------------------------------
                                              $.ajax({
                                                    type:"POST",
                                                    url:"<?php echo base_url(); ?>index.php/mtr/data_mtr_distribution/remove_detail_category_of_materials",
                                                    data:{ mtr_detail_id:id},
                                                    dataType: 'html',
                                                    success:function(data){
                                                        
                                                    }
                                                }); 
                                              //-------------------------------------------------
			                },
			                cancel: function(button) {
			                }
			            });
			        });
		           $("#data3 tbody tr").live('click',function() {
              			
                        var selected = $(this).hasClass("highlighted");
                        $("#data3 tbody tr").removeClass("highlighted");
                        if(!selected){ 
                                $(this).addClass("highlighted");
       						    
                            }
                            else
                            {   
                            	$("#show_data1" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data2" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
                            	$("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
							   $.post( "index.php/mtr/data_mtr_distribution/index",function( data ) {            
						                    $("#show_data1" ).html( data );
						       	}); 
                            	$.post( "index.php/mtr/data_mtr_model/index",function( data ) {            
									       $("#show_data2" ).html( data );
								}); 
                            	$.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
								       $("#show_data3" ).html( data );
								});
								$("#model_number").attr("disabled", "disabled"); 
       							$("#model_name").attr("disabled", "disabled"); 
       							$("#detail_number").attr("disabled", "disabled"); 
       							$("#detail_name").attr("disabled", "disabled"); 
                            }
                    });
		            $(".edit3").live('click',function(){
				            var id = $(this).attr('title');
				             $.post( "index.php/mtr/data_mtr_detail/edit_unit",{'id':id}, function( data ) {
				                                         var id = data['0'].detail_id ;
				                                         var detail_number       = data['0'].detail_number ;
				                                         var detail_name         = data['0'].detail_name ;
				                                         $("#detail_number3").val(detail_number);
				                                         $("#detail_name3").val(detail_name);
				                                         $("#detail_hide3").val(id);
				                                         
				             }, "json"); 
				    });
				    $("#btn_edit3").live('click',function(){
			                        $.post( "index.php/mtr/data_mtr_detail/edit_mtr_detail",$("#form3_3").serialize(),function( data ) {    
			             				if(data == '200')
                                        {    
                                              alert('แก้ไขข้อมูลเรียบร้อย');
                                             $.post( "index.php/mtr/data_mtr_detail/index",function( data ) {            
												       $("#show_data3" ).html( data );
											}); 
                                        }
                                        else
                                        {
                                            alert('บันทึกไม่ได้เนื่องจากรหัสซ้ำ');
                                        }
			                         });
			         		});
				     $("#btn_search3").click(function(){
		                        var txt_search3 = $("#txt_search3").val();
		                        $("#show_data3" ).html( "<img  src = '<?php echo base_url();?>assets/loading3.gif' width = '80px'/>" );
		                         $.post( "index.php/mtr/data_mtr_detail/search_mtr_detail",{'txt_search3':txt_search3},function( data ) {               
		                                 $("#show_data3" ).html( data );
		                                 $("#txt_search3").val('');

		                         });
		                    });
</script>
 <style type="text/css">
   .panel-heading span
    {
        margin-top: -26px;
        font-size: 15px;
        margin-right: -12px;
    }

    .clickable {
        background: rgba(0, 0, 0, 0.15);
        display: inline-block;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
    }
    .row{
        margin-top:30px!important;
        margin-left: 10px!important;
        margin-right:10px!important;
        margin-bottom: 30px!important;
    }
    .highlighted {
    color: #261F1D !important;
    background-color:#98FBF9 !important;
   }
 </style>